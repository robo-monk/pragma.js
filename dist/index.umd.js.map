{"version":3,"file":"index.umd.js","sources":["../src/composers/helpers.js","../src/pragmas/pragma.js","../src/composers/templates.js","../src/pragmas/comp.js","../src/icons/icons.js"],"sourcesContent":["export function forArg(args, cb){\n  for (let i=0; i<args.length; i+=1){\n    cb(args[i])\n  }\n}\n\nexport const throwSoft = (desc, potential=null, fixes=['rerun the code 10 times'], trigger=null) => {\n  console.error(`%c ðŸ§¯ pragma.js  %c \\n\n      encountered a soft error ðŸ”« %c \\n\n      \\n${trigger ? `Triggered by: [${trigger.key} ${trigger}]` :``}\n      \\n${desc} %c\\n\n      \\n${ potential!=null ? `Potential ${potential}: \\n\\t${fixes.join(\"\\n\\t\")}` : '' }\n      `, \"font-size:15px\", \"font-size: 12px;\", \"color:whitesmoke\", \"color:white\")\n  // throw \"pragmajs: \" + desc\n}\n\nexport const parse = {\n  cssToDict:((str) => {\n    // console.log(`parsing pcss`)\n    //console.log(str)\n\n    str = str.replaceAll(\"\\n\", \";\").replaceAll(\":\", \" \")\n    let cssDict = new Map()\n    for(let style of str.split(\";\")){\n      if (style.replace(/\\s/g, \"\").length<2) continue\n      style = style.trim().split(\" \") \n      let key = style[0]\n      style.shift()\n      cssDict.set(key.trim(), style.join(\" \").trim())\n    }\n\n    // check css properties\n    let unsupported = []\n    for (const [key, value] of cssDict.entries()){\n      if (!CSS.supports(key, value)) unsupported.push(`${key.trim()}: ${value.trim()}`)\n    }\n    \n    if (unsupported.length > 0){\n      throwSoft(`CSS syntax error`, 'typos', unsupported)\n    }\n    return cssDict\n  }),\n  css: ((pcss) => {\n    let css = \"\"\n    for (let [key, value] of parse.cssToDict(pcss)) {\n      //console.log(key, value)\n      css+=`${key}:${value};`\n    }\n    return css\n  })\n}\n","// a pragma is defined as a concept, which has an actual physical object \"connected\"\n// with it\nimport $, { expr } from \"jquery\"\nimport { parse, throwSoft } from \"../composers/helpers\"\n\nclass Pragma {\n  constructor(element=null, listeners={}, key){\n    this.element = $(element)\n    this.generate_key(key)\n    // this.children = []\n    this.childMap = new Map()\n    this.setup_listeners(listeners)\n    IntersectionObserver.default = {\n      fill: \"shit\"\n    }\n  }\n  throw(e, f, ff=[]){\n    throwSoft(e, f, ff, this)\n  }\n  get children() {\n    return Array.from(this.childMap.values())\n  }\n  generate_key(key){\n    if (key != null) {\n      this.key = key\n    }else{\n      this.key = btoa(Math.random()).substr(10, 5) \n    }\n  }\n\n  find(key){\n    // recursively find a key\n    // return false\n    if (this.childMap.has(key)) return this.childMap.get(key)\n    for (let [k, value] of this.childMap) {\n      let vv = value.find(key) \n      if (vv) return vv\n    }\n  }\n  add(spragma){\n    if (this.childMap.has(spragma.key)) { \n      spragma.key = spragma.key + \"~\"\n      return this.add(spragma)\n    }\n    spragma.parent = this\n    this.childMap.set(spragma.key, spragma)\n    // this.children.push(spragma)\n  }\n  get kidsum() { return this.childMap.size }\n  get hasKids() { return this.kidsum > 0 }\n\n  listen(listeners){\n    this.setup_listeners(listeners)\n    return this\n  }\n  setup_listeners(listeners){\n    Object.entries(listeners).forEach(([on, cb]) => {\n      this.element.on(on, () => cb())\n    })\n  }\n  click(){}\n\n  text(){\n    return this.element.text()\n  }\n  offset(){\n    return this.element.offset()\n  }\n  left(){\n    return this.offset().left\n  }\n  top(){\n    return this.offset().top\n  }\n  height(){\n    return this.element.height()\n  }\n  width(){\n    return this.element.width()\n  }\n  x(relative_width){\n    return this.left() + this.width()/2 - relative_width/2\n  }\n  css(str){\n    if (this.element) this.element.css(Object.fromEntries(parse.cssToDict(str)))\n    return this\n  }\n\n  get _isPragma() { return true }\n}\n\n\n\nexport { Pragma as default }\n","import Pragma from \"../pragmas/pragma\"\nimport Comp from \"../pragmas/comp\"\n\nimport { forArg } from \"./helpers\"\n\n// TODO button action refactor\nconst buttonAction = (key, value, icon, action) => {\n  return {\n    key: key,\n    type: \"button\",\n    icon: icon,\n    value: value,\n    click: (master, comp) => {\n      action(master, comp)\n    }\n  }\n}\nconst buttonValue = (key, ext, value, step, icon) => {\n  return buttonAction(key+ext, value, icon, ((master, comp) => {\n    comp.parent.value += step\n  }))\n}\n\nconst Monitor = {\n  custom: ((key, val=0, tag, action) => {\n    return new Comp({\n      key: key,\n      value: val,\n      set: ((value, master, comp) => { \n        if(action) return action(value, comp, master)\n      })\n    }).as(`<${tag}>${val}</${tag}>`, key+\"-monitor\")\n  }),\n  simple: ((key, val=0, tag=\"p\", action=null) => {\n    let actionCb = (value, comp, master) => {\n      comp.element.text(value)\n      if (action) return action(value, comp, master)\n    }\n    let mon =  Monitor.custom(key, val, tag, actionCb) \n    return mon\n  }),\n}\n\nconst Button = {\n  action: ((key, icon, action, tippy) => {\n    let btn = new Comp({\n      key: key,\n      icon: icon,\n      type: \"button\",\n      click: action // value comp trigger\n    })\n    if (tippy) btn.setTippy(tippy)\n    return btn\n  }),\n  controls: ((key, value, step, action, icons) => {\n\n    let plus = Button.action(key+\"+\", icons[\"+\"] || \"+\", (master, comp) => {\n      comp.parent.value += step\n    })\n\n    let minus = Button.action(key+\"-\", icons[\"-\"] || \"-\", (master, comp) => {\n      comp.parent.value += -step\n    })\n\n    return Monitor.simple(key, value, \"div\").prepend(plus).append(minus)\n  })\n}\n\n\n\nconst variantUIActivate = (element) => {\n  // console.log(`activating ${element.key} to ${element.value}`)\n  for (let variant of element.children){\n    variant.element.removeClass(\"pragma-active\")\n  }\n  element.children[element.value].element.addClass(\"pragma-active\")\n}\n\nconst variantUIAction = (comp, index, attr) => {\n  let element = comp.find(attr.key)\n  element.value = index\n}\n\nconst Variants = (key, value, icon, set, click, variants) => {\n  return new Comp(map_variants({key:key,value:value,icon:icon,set:set,click:click,variants:variants}))\n}\n\nconst map_variants = (attr) =>{\n  // key, value, icon, set_cb, clickcb, variants\n  return {\n    key: attr.key,\n    value: attr.value,\n    type: \"choice\",\n    element_template: (key, index) => {\n      return buttonAction(attr.key, index, attr.icon(key, index), (comp) => {\n        variantUIAction(comp, index, attr)\n      })\n    },\n    set: (value, comp) => {\n      if (comp && comp.find(attr.key)) variantUIActivate(comp.find(attr.key)) \n      attr.set(value, comp, attr.key)\n    },\n    variants: attr.variants\n  }\n}\n\nconst text = (text, key=null, elements=[]) => {\n  if (key==null) key = text\n  return {\n    key: key,\n    type: \"text\",\n    icon: text,\n    elements: elements\n  }\n}\n\nconst composer = (key, icon, elements) => {\n  return {\n    key: key,\n    type: \"composer\",\n    icon: icon,\n    elements: elements\n  }\n}\n\nconst Slider = {\n  simple: (key, min=0, max=420, val) => {\n    val = val || (min+max)/2\n    let slider = Compose(key).as(`<input type='range' min=${min} max=${max} value=${val}></input>`).setRange(min, max)\n    slider.element.on('input', () => {\n      slider.value = parseInt(slider.element[0].value)\n    })\n\n    return slider\n  },\n\n  value: (key, min, max, val=0, onupdate) => {\n    let monitor = Monitor.simple(key+\"_monitor\", val, \"div\") \n    let slider = Slider.simple(key+\"_slider\", min, max, val)\n    let el = Compose(key).contain(slider, monitor).setRange(min, max)\n\n    slider.addToChain((v) => {\n      v = parseInt(v)\n      el.value = v\n    })\n\n    el.addToChain((v) => {\n      slider.element[0].value = v.toString()\n    })\n\n    return el.chain(monitor)\n  }\n}\nconst Select = {\n  attr: ((key, attrs, onset, icon, value=0) => {\n    return new Comp(map_variants({\n      key: key,\n      value: value,\n      icon: (key, index) => {\n        let attr = icon(key, index)\n        return `<div class=\"${attr.type}\" style='width:25px;height:25px;border-radius:25px;${attr.css}'>${attr.html}</div>`\n      },\n      set: (v, comp, key) => {\n        if (onset) onset(attrs[v], comp, key)\n      },\n      variants: attrs\n    })).setRange(0, attrs.length-1).setLoop()\n  }),\n  color: ((key, colors, onset, value=0) => {\n    return Select.attr(key, colors, onset, (key, index) => { return { css: `background:${key}`, html: \"\" } }, value) \n  }),\n  font: ((key, fonts, onset, value=0) => {\n    return Select.attr(key, fonts, onset, (key, index) => { return { css: `font-family:${key}`, html: \"Aa\" } }, value) \n  })\n}\n\n// base\nconst map = (key, type, icon, elements=null, value=null) => {\n  return {key:key,type:type,value:value,icon:icon,elements:elements}\n}\nconst maps = (string, elements=null) => {\n  // map string\n  // \"key type icon\"\n  let v = string.split(\" \")\n  return map(v[0], v[1], v[2], elements)\n}\n\nconst Compose = (key, icon, elements, type=\"composer\") => {\n  if (key instanceof Object) return new Comp(key) \n  return new Comp(map(key, type, icon, elements))\n}\n\nconst Value = (key, value, icon, elements, type=\"value\") => {\n  return new Comp(map(key, type, icon, elements))\n}\n\n// TODO put these somewhere else\nfunction _pragma(p){\n  return p && typeof p === \"object\" && p._isPragma\n}\n\nclass Pragmatizer{\n  constructor(where){\n    this.where = where\n  }\n  pragmatize(){\n    forArg(arguments, (p) => {\n      p.pragmatize(this.where)\n    })\n  }\n}\n\nconst at = (where) => {\n  if (_pragma(where)) return new Pragmatizer(where.element)\n  return new Pragmatizer($(where))\n}\n\nconst pragmatize = (comp, where) => {\n  comp.pragmatize(where)\n  return comp\n}\n\nconst contain = (a, b) => {\n  a.contain(b)\n  return a\n}\n\nconst host = (a, b) => {\n return a.host(b)\n}\n\n\nconst Bridge = (stream, keys=[], beam=((object, trigger) => console.table(object))) => {\n  //console.log(stream, keys, beam)\n  function makeData(master){\n    let sync = {}\n    for (let key of keys){\n      let c = master.find(key)\n      if (c){\n        sync[key] = c.value\n      }else{\n        console.warn(`pragmajs > could not find ${key} in ${master.key}\n        when bridgin through ${bridgeComp.key}`)\n      }\n    }\n    return sync\n  }\n\n\n\n  let bridgeComp = Compose(stream.key+\"Bridge\")\n\n  function transmit(trigger){\n    beam(bridgeComp.value, trigger)\n  }\n\n  bridgeComp.do(((v, master, trigger) => {\n    //console.log(v, master, trigger)\n    if (keys.includes(trigger.key)) {\n      bridgeComp.actualValue = makeData(master)\n      transmit(trigger)\n    }\n\n  }))\n\n  stream.chain(bridgeComp)\n\n  //stream.addToChain(((v, master, trigger) => {\n    ////bridgeComp.value = syncableObj\n    ////if (keys.includes(trigger.key)) transmit(syncableObj(master), trigger) \n  //}))\n  bridgeComp.set = (obj) => {\n    for (let [key, value] of Object.entries(obj)){\n      //console.log(key)\n      stream.find(key).value=value\n    }\n  }\n  \n\n  return bridgeComp\n}\n\nexport { buttonValue, Button, Select, Slider, Variants, Compose, Value, pragmatize, at, contain, host, Bridge, Monitor}\n\n","import $ from \"jquery\"\nimport Pragma from \"./pragma\"\nimport { Compose } from \"../composers/templates\"\nimport tippy from \"tippy.js\"\nimport Mousetrap from \"mousetrap\"\nimport { forArg } from \"../composers/helpers\"\n\nexport default class Comp extends Pragma {\n  constructor(map, parent = null){\n    super()\n    this.actualValue = null\n\n    if (map instanceof Object){\n      this.build(map)\n      this.parent = parent\n    }else{\n      this.key = map\n    }\n\n    this.log_txt = \"\"\n\n    // this.unchain()\n    // TODO add init chain or smth like thatjj\n    this.addToChain((\n    (v, master, trigger=this) => { \n      if (this.master) {\n        master.doChain(v, master, trigger) // let master know something changed\n        master.log(`${trigger.key} -> ${v}`)\n      }\n    }))\n\n    // api\n    this.append = this.add\n    this.do = this.addToChain\n  }\n\n  log(n){\n    this.log_txt = this.log_txt.concat(\" | \" + n)\n    // console.log(this.log_txt)\n  }\n\n  doChain(v, master, trigger=this){\n    if (!this.actionChain) return null\n    for (let cb of this.actionChain){\n      cb(v, master, trigger)\n    }\n  }\n\n  unchain(){\n    this.actionChain = []\n    this.addToChain((\n    (v, master, trigger=this) => { \n      if (this.master) {\n        master.doChain(v, master, trigger) // let master know something changed\n        master.log(`${trigger.key} -> ${v}`)\n      }\n    }))\n\n    return this\n  }\n\n  addToChain(){\n    if (!this.actionChain) this.actionChain = []\n    forArg(arguments, (cb => {\n      this.actionChain.push(cb)\n    }))\n    return this\n  }\n\n    \n  get logs(){\n    return this.log_txt\n  }\n  \n  proc_value(v){\n    // returns the bounded value and a bool to do the chain or not\n    if (this.loopingValue) return [this.loopBoundVal(v), true]\n    let r = this.rangeBoundVal(v)\n    return [r, r==v]\n  }\n  set value(v){\n    let pv = this.proc_value(v)\n    this.actualValue = pv[0]\n    if (pv[1]) this.doChain(this.actualValue, this.master) // do the chain if the value is in the range\n  }\n\n  get value(){\n    return this.actualValue\n  }\n  get master(){\n    if (this.parent == null || this.parent.parent == null) return this.parent\n    return this.parent.master\n  }\n\n  get html(){\n    return {\n      class: ((v, reset=false) => { \n        if (reset) this.element.removeClass()\n        this.element.addClass(v)\n        return this \n      }),\n      more: \"more cool api capabilities coming soon. Usage: pragma.html.class('lucid').......pragmatize()\"\n    }\n  }\n\n  // actions kinda \n\n  pragmatize(where){\n    //this.compose()\n    if (where instanceof Pragma) where = where.element\n    $(where ? where : document.body).append(this.element)\n    this.isAppended = true\n    return this\n  }\n\n  chain(comp){ \n    this.actionChain = this.actionChain.concat(comp.actionChain) \n    return this\n  }\n\n  with(id, key){ return this.contain(Compose(key).as(id)) }\n\n  from(id, skip_id=false){\n    id = $(id)\n    this.element.remove()\n    this.element = null      \n    if (!skip_id && id.attr(\"id\")) this.key = id.attr(\"id\")\n    this.isAppended = true\n    return this.as(id, true)\n  }\n\n  as(id, skip_id=false){\n    let newElement = $(id)\n    if (!skip_id) newElement.attr( \"id\", this.key )\n    if (this.element) this.element.replaceWith(newElement)\n    this.element = newElement\n    return this\n  }\n\n  compose(force=false, tag=\"div\"){\n    //if (this.force || !this.element) \n    return this.as($(document.createElement(tag)))\n  }\n\n  addSilently(){\n    forArg(arguments, (child) => {\n      super.add(child)\n    })\n    return this\n  }\n\n  add(){\n    forArg(arguments, (child) => {\n      // if (this.containsKey(child.key)) {\n      // }\n      super.add(child)\n      if (!child.isAppended) this.element.append(child.element)\n    })\n    return this\n  }\n\n  prepend(){\n    forArg(arguments, (child) => {\n      // if (this.containsKey(child.key)) {\n      // }\n      super.add(child)\n      if (!child.isAppended) this.element.prepend(child.element)\n    })\n    return this\n  }\n\n  buildInside(map){\n    let comp = Compose(map.key+\"-composer\", null, [map])\n    this.buildAndAdd(comp)\n    this.host(comp)\n  }\n\n  containsKey(key){\n    return this.childMap.has(key)\n  }\n\n  contain(){\n    //this.add(arguments)\n    forArg(arguments, (comp) => {\n      this.add(comp)\n    })\n    return this\n  }\n\n  setTippy(comp, options){\n    if (!options) options = { \n      allowHTML: options,\n      interactive: true,\n      theme: \"pragma\",\n      arrow: false\n    }\n    let contentOption = {\n      content: comp\n    }\n    this.tippy = tippy(this.element[0], {...contentOption, ...options} )\n    return this\n  }\n\n  host(){\n    const hostCompKey = this.key + \"-host\"\n    let icomp\n    forArg(arguments, (comp) => {\n    if (this.tippy){\n      // if already hosts something\n      icomp = this.find(hostCompKey)\n      icomp.contain(comp)\n      this.tippy.destroy() // destory old tippy instance to create new one\n    } else {\n\n      icomp = Compose(hostCompKey).contain(comp)\n      this.contain(icomp)\n    }\n\n    icomp.element.addClass(\"pragma-tippy\")\n    this.setTippy(icomp.element[0])\n    })\n\n    return this\n  }\n\n  buildAndAdd(element){\n      let child = new Comp(element, this)\n      this.add(child)\n  }\n  \n  buildArray(ary){\n    for (let element of ary){\n      this.buildAndAdd(element)\n    }\n  }\n\n  illustrate(icon){\n    if (!this.icon) {       \n      this.icon = $(document.createElement(\"div\"))\n      this.icon.addClass(\"pragma-icon\")\n      this.icon.appendTo(this.element)\n    }\n    this.icon.html(icon)\n    return this\n  }\n\n  build(map){\n    //this.pragmatize()\n    this.compose(true)\n\n    if (map.icon) this.illustrate(map.icon)\n      \n\n    if (map.elements) this.buildArray(map.elements)\n    if (map.hover_element) this.buildInside(map.hover_element)\n    if (map.value) this.value = map.value\n    if (map.set) this.addToChain((v, master, comp) => map.set(v, master, comp))\n    // if (map.set) this.onset = (v, comp) => { \n\n    //   this.master.log(`${map.key} -> ${v}`); \n    //   map.set(v, comp) \n    // }\n\n    if (map.key != null){\n      this.key = map.key\n      this.element.attr(\"id\", this.key)\n    }\n\n    if (map.type){\n      this.type = map.type\n      this.element.addClass(`pragma-${map.type}`)\n    }\n\n    if (map.click){\n      this.onclick = () => { \n          map.click(this.master, this) \n      }\n      this.element.addClass(`pragma-clickable`)\n      this.setup_listeners({\n        \"click\": this.onclick\n      })\n    }\n    if (map.mouseover){\n      this.element.addClass(\"pragma-hoverable\")\n      this.setup_listeners({\n        \"onmouseover\": () => {\n          map.mouseover(this.master)\n        }\n      })\n    }\n    if (map.mouseout){\n      this.setup_listeners({\n        \"mouseout\": () => {\n           map.mouseover(this.master)\n        }\n      })\n    }\n\n    if (map.element) this.element = $(map.element)\n    if (map.element_template && map.variants){\n      map.variants.forEach((variant, index) => {\n        let templ = map.element_template(variant, index)\n        templ.type = \"option\"\n        this.buildAndAdd(templ)\n      })\n    }\n  }\n\n  dismantle(){\n    this.children = []\n    return this\n  }\n  leaveUsKidsAlone(){\n    return this.dismantle()\n  }\n\n  // mousetrap integration\n  proc_bind_cb(cb){\n    if (!cb){\n      if (this.onclick) return (()=> { this.onclick(this.master) })\n      return ((comp) => { comp.value += 1 })\n    }\n    return cb\n  }\n  bind(keys, cb, event){\n    cb = this.proc_bind_cb(cb)\n    Mousetrap.bind(keys, () => { return cb(this) }, event)\n    return this\n  }\n\n  get allChildren(){\n    if (!this.hasKids) return null\n    let childs = this.children\n    for (let child of childs){\n      let descs = child.allChildren\n      if (descs) childs = childs.concat(descs)\n    }\n    return childs\n  }\n\n  get depthKey(){\n    if (this.parent) {\n      return this.parent.depthKey+\"<~<\"+this.key\n    }\n    return this.key\n  }\n\n  shapePrefix(prefix=\"\"){\n    let shape = `${prefix}| ${this.type} - ${this.key} \\n`\n    if (this.hasKids) {\n        prefix += \"| \"\n      for (let child of this.children){\n        shape += child.shapePrefix(prefix)\n      }\n    }\n    return shape\n  }\n\n  setRange(min, max){\n    this.rangeAry = [min, max]\n    return this \n  }\n\n  loopBoundVal(v){\n    if (!this.loopingValue) return v\n\n    let l = this.loopingValue\n    v = v > l[1] ? l[0] :  v\n    v = v < l[0] ? l[1] :  v\n    return v\n  }\n  setLoop(min, max){\n    let actualMin = min || (this.range ? this.range[0] : 0)\n    let actualMax = max || (this.range ? this.range[1] : 69)\n    this.loopingValue = [actualMin, actualMax]\n    return this\n  }\n\n  rangeBoundVal(v){\n    if (!this.range) return v\n    return Math.max(this.range[0], Math.min(v, this.range[1]))\n  }\n\n  get range(){\n    return this.rangeAry\n  }\n\n  get shape(){\n    return this.shapePrefix()\n  }\n\n  descOf(comp){\n    return comp.find(this.key) ? true : false \n  }\n  setup_listeners(listeners){\n    Object.entries(listeners).forEach(([on, cb]) => {\n      this.element.on(on, (event) => cb(event, this))\n    })\n  }\n\n  \n}\n","import $ from \"jquery\"\nimport { throwSoft } from \"../composers/helpers\"\n\n// TODO put these helper functions somewhere else\nfunction fill(svg, color){\n  svg.find(\"path\").each((i, path)=>{\n    path = $(path)\n    const ff = path.attr(\"fill\")\n    if (ff!=\"none\" && ff!=\"transparent\"){\n      path.attr(\"fill\", color)\n    }\n  })\n}\n\nfunction getObjDiff(og, n){\n  if (!(typeof og == typeof n === \"object\")) return n\n  for (const [key, val] of Object.entries(n)){\n    og[key] = val\n  }\n  return og\n}\n\nfunction grabOrThrow(icon, from){\n  if (!from) return throwSoft(`Icon Database is not defined, while trying to grab [${icon}] from [${from}].`, \"fixes\", [\"Typo in the file name?\", \"Did you forget to initialize IconBuilder with an icon database?\"])\n  const i = from[icon]\n  if (!i) return throwSoft(`Could not find ${icon}`)\n  return $(i)\n}\n\nexport default class IconBuilder {\n  constructor(database, defaults=null){\n    this.db = database\n    this.default = defaults || {\n      fill: \"black\",\n      width: \"18px\",\n      height: \"18px\",\n      viewBox: \"0 0 24 24\"\n    }\n  }\n  set default(n){\n    this.defaultOptions = getObjDiff(this.default, n)\n  }\n\n  get default(){\n    return this.defaultOptions\n  }\n\n  optionify(options){\n    if (typeof options === 'object') return getObjDiff(this.default, options)\n    return this.default\n  }\n\n  grab(icon, options){\n    options = this.optionify(options) \n    let i = grabOrThrow(icon, this.db)\n\n    for (const [attr, val] of Object.entries(options)){\n      if (attr == \"fill\") fill(i, val)\n      i.attr(attr, val)\n    }\n\n    return i\n  }\n\n  build(icon, options){\n    if ((options && options.skip) || dontEnvelope.includes(icon)) return this.db[icon]\n    return this.buildIcon(this.db[icon], options)\n  }\n\n  buildIcon(icon, options={}){\n    return `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${options.viewBox || this.default.viewBox }\" fill=\"${options.fill || this.default.fill}\" \n      width=\"${options.width || this.default.width}\" height=\"${options.height || this.default.height}\" ${options.extra}>\n        ${icon}\n      </svg>\n      `\n  }\n}"],"names":["forArg","args","cb","i","length","throwSoft","desc","potential","fixes","trigger","console","error","key","join","parse","cssToDict","str","replaceAll","cssDict","Map","style","split","replace","trim","shift","set","unsupported","value","entries","CSS","supports","push","css","pcss","Pragma","constructor","element","listeners","this","$","generate_key","childMap","setup_listeners","IntersectionObserver","default","fill","throw","e","f","ff","children","Array","from","values","btoa","Math","random","substr","find","has","get","k","vv","add","spragma","parent","kidsum","size","hasKids","listen","Object","forEach","on","click","text","offset","left","top","height","width","x","relative_width","fromEntries","_isPragma","Monitor","custom","val","tag","action","Comp","master","comp","as","simple","Button","icon","tippy","btn","type","setTippy","controls","step","icons","plus","minus","prepend","append","map_variants","attr","element_template","index","variantUIAction","buttonAction","variant","removeClass","addClass","variantUIActivate","variants","Slider","min","max","slider","Compose","setRange","parseInt","onupdate","monitor","el","contain","addToChain","v","toString","chain","Select","attrs","onset","html","setLoop","color","colors","font","fonts","map","elements","Pragmatizer","where","pragmatize","arguments","p","super","actualValue","build","log_txt","doChain","log","do","n","concat","actionChain","unchain","logs","proc_value","loopingValue","loopBoundVal","r","rangeBoundVal","pv","class","reset","more","document","body","isAppended","with","id","skip_id","remove","newElement","replaceWith","compose","force","createElement","addSilently","child","buildInside","buildAndAdd","host","containsKey","options","allowHTML","interactive","theme","arrow","content","hostCompKey","icomp","destroy","buildArray","ary","illustrate","appendTo","hover_element","onclick","mouseover","onmouseover","mouseout","templ","dismantle","leaveUsKidsAlone","proc_bind_cb","bind","keys","event","Mousetrap","allChildren","childs","descs","depthKey","shapePrefix","prefix","shape","rangeAry","l","range","descOf","svg","each","path","getObjDiff","og","stream","beam","object","table","bridgeComp","includes","sync","c","warn","makeData","transmit","obj","database","defaults","db","viewBox","defaultOptions","optionify","grab","grabOrThrow","skip","dontEnvelope","buildIcon","extra","a","b"],"mappings":"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"}